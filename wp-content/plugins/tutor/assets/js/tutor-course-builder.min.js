(()=>{var a={2674:()=>{window.jQuery(document).ready(function(i){var t=wp.i18n,s=t.__,e=t._x,o=t._n,a=t._nx;i(document).on("click",".open-tutor-assignment-modal, .tutor-create-assignments-btn",function(t){t.preventDefault();var e=i(this);var o=e.hasClass("tutor-create-assignments-btn")?0:e.attr("data-assignment-id");var a=e.closest(".tutor-topics-wrap").data("topic-id");var r=i("#post_ID").val();i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{assignment_id:o,topic_id:a,course_id:r,action:"tutor_load_assignments_builder_modal"},beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){i(".tutor-assignment-modal-wrap .modal-container").html(e.data.output);i(".tutor-assignment-modal-wrap").addClass("tutor-is-active");tinymce.init(tinyMCEPreInit.mceInit.tutor_assignment_editor_config);tinymce.execCommand("mceRemoveEditor",false,"tutor_assignments_modal_editor");tinyMCE.execCommand("mceAddEditor",false,"tutor_assignments_modal_editor");window.dispatchEvent(new Event(_tutorobject.content_change_event))},complete:function t(){e.removeClass("tutor-updating-message");quicktags({id:"tutor_assignments_modal_editor"})}})});i(document).on("click",".update_assignment_modal_btn",function(t){t.preventDefault();var e=i(this);var o;var a="tutor_assignments_modal_editor";var r=tinyMCE.get(a);if(r){o=r.getContent()}else{o=i("#"+a).val()}var n=i(this).closest(".tutor-modal").find("form.tutor_assignment_modal_form").serializeObject();n.assignment_content=o;i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:n,beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){if(e.success){i("#tutor-course-content-wrap").html(e.data.course_contents);enable_sorting_topic_lesson();i(".tutor-assignment-modal-wrap").removeClass("tutor-is-active");tutor_toast(s("Success","tutor"),s("Assignment Updated","tutor"),"success")}},complete:function t(){e.removeClass("tutor-updating-message")}})})})},4417:()=>{window.jQuery(document).ready(function(o){var t=wp.i18n,c=t.__,e=t._x,a=t._n,r=t._nx;o(document).on("click",".tutor-attachment-cards:not(.tutor-no-control) .tutor-delete-attachment",function(t){t.preventDefault();o(this).closest("[data-attachment_id]").remove()});o(document).on("click",".tutorUploadAttachmentBtn",function(t){t.preventDefault();var n=o(this);var i=n.data("name");var e=n.parent().find(".tutor-attachment-cards");var s=!e.hasClass("tutor-attachment-size-aside");var u;if(u){u.open();return}u=wp.media({title:c("Select or Upload Media Of Your Choice","tutor"),button:{text:c("Upload media","tutor")},multiple:true});u.on("select",function(){var t=u.state().get("selection").toJSON();if(t.length){for(var e=0;e<t.length;e++){var o=t[e];var a='<span class="filesize">\n                                '.concat(c("Size","tutor"),": ").concat(o.filesizeHumanReadable,"\n                            </span>");var r='<div data-attachment_id="'.concat(o.id,'">\n                        <div>\n                            <a href="').concat(o.url,'" target="_blank">\n                                ').concat(o.filename,"\n                            </a>\n                            ").concat(s?a:"",'\n                            <input type="hidden" name="').concat(i,'" value="').concat(o.id,'">\n                        </div>\n                        <div>\n                            ').concat(!s?a:"",'\n                            <span class="tutor-delete-attachment tutor-action-icon tutor-icon-line-cross-line tutor-icon-18"></span>\n                        </div>\n                    </div>');n.parent().find(".tutor-attachment-cards").append(r)}}});u.open()})})},7464:()=>{function a(t,e,o){if(e in t){Object.defineProperty(t,e,{value:o,enumerable:true,configurable:true,writable:true})}else{t[e]=o}return t}window.jQuery(document).ready(function(o){o('#course_setting_content_drip, [name="_tutor_course_settings[content_drip_type]"]').change(function(){var t;if(o(this).attr("type")=="radio"&&!o(this).prop("checked")){return}var e=o(this).attr("type")=="checkbox"?o(this).prop("checked")?1:0:o(this).val();o.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:(t={},a(t,o(this).attr("name"),e),a(t,"course_id",o("#post_ID").val()),a(t,"action","tutor_content_drip_state_update"),t)})})})},4498:()=>{window.jQuery(document).ready(function(u){var t=wp.i18n.__;var c=u("#tutor_course_instructor_modal .tutor-search-result");var d=u("#tutor_course_instructor_modal .tutor-selected-result");var n=u("#tutor_course_instructor_modal").data("course_id");var i;var e=function t(r,s){var e=function t(){i=undefined;var e=u('#tutor_course_instructor_modal input[type="text"]');var o=(e.val()||"").trim();if(!o){c.empty();return}var a=[];d.find("[data-instructor-id]").each(function(){a.push(u(this).data("instructor-id"))});r&&!isNaN(r)?a.push(r):0;u.ajax({url:_tutorobject.ajaxurl,type:"POST",data:{course_id:n,search_terms:o,shortlisted:a,action:"tutor_course_instructor_search"},beforeSend:function t(){if(!s){c.html("");c.addClass("tutor-updating-message")}},success:function t(e){var o=e.data||{},a=o.search_result,r=o.shortlisted,n=o.shortlisted_count;c.removeClass("tutor-updating-message");c.html(a);d.html(r);var i=n?false:true;u(".add_instructor_to_course_btn").prop("disabled",i);s?s():0}})};if(i){clearTimeout(i)}i=setTimeout(e,350)};u(document).on("input",'#tutor_course_instructor_modal input[type="text"]',e);u(document).on("focus",'#tutor_course_instructor_modal input[type="text"]',function(){c.show()});u(document).on("click","#tutor_course_instructor_modal .tutor-shortlist-instructor",function(){u(this).addClass("tutor-updating-message");e(u(this).closest("[data-user_id]").data("user_id"),function(){c.hide()})});u(document).on("click","#tutor_course_instructor_modal .tutor-selected-result .instructor-control a",function(){u(this).closest(".added-instructor-item").fadeOut(function(){u(this).remove()})});u(document).on("click",".add_instructor_to_course_btn",function(t){t.preventDefault();var e=u(this);var o=u("#tutor_course_instructor_modal").data("course_id");var a=[];d.find("[data-instructor-id]").each(function(){a.push(u(this).data("instructor-id"))});u.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:o,tutor_instructor_ids:a,action:"tutor_add_instructors_to_course"},beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){if(e.success){c.empty();d.empty();u("#tutor_course_instructor_modal").removeClass("tutor-is-active");u(".tutor-course-instructors-metabox-wrap").parent().html(e.data.output);u(".tutor-modal-wrap").removeClass("show");return}tutor_toast("Error!",get_response_message(e),"error")},complete:function t(){e.removeClass("tutor-updating-message")}})});u(document).on("click",".tutor-instructor-delete-btn",function(t){t.preventDefault();var o=u(this);var e=u("#post_ID").val();var a=o.closest(".added-instructor-item").attr("data-instructor-id");u.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{course_id:e,instructor_id:a,action:"detach_instructor_from_course"},beforeSend:function t(){return o.addClass("tutor-updating-message")},complete:function t(){return o.removeClass("tutor-updating-message")},success:function t(e){if(e.success){o.closest(".added-instructor-item").remove();return}tutor_toast("Error!",get_response_message(e),"error")}})})})},8005:()=>{window.jQuery(document).ready(function(l){var _=wp.i18n.__;l(document).on("click",".tutor-save-topic-btn",function(t){t.preventDefault();var u=l(this);var c=u.closest(".tutor-modal");var d=c.find('[name="topic_id"]').val();var e=c.find('[name="topic_title"]').val();var o=c.find('[name="topic_summery"]').val();var a=c.find('[name="topic_course_id"]').val();var r={topic_title:e,topic_summery:o,topic_id:d,topic_course_id:a,action:"tutor_save_topic"};l.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:r,beforeSend:function t(){u.addClass("tutor-updating-message")},success:function t(e){var o=e.data,a=o===void 0?{}:o,t=e.success;var r=a.message,n=r===void 0?_("Something Went Wrong!","tutor"):r,i=a.course_contents,s=a.topic_title;if(!t){tutor_toast("Error!",n,"error");return}c.removeClass("tutor-is-active");if(d){u.closest(".tutor-topics-wrap").find("span.topic-inner-title").text(s)}else{l("#tutor-course-content-wrap").html(i);c.find('[name="topic_title"]').val("");c.find('[name="topic_summery"]').val("")}window.dispatchEvent(new Event(_tutorobject.content_change_event))},complete:function t(){u.removeClass("tutor-updating-message")}})});l(document).on("click",".tutor-topics-wrap .topic-delete-btn i",function(t){var e=l(this);var o=l(this).closest(".tutor-topics-wrap");var a=o.attr("data-topic-id");if(!confirm(_("Are you sure to delete the topic?","tutor"))){return}l.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{action:"tutor_delete_topic",topic_id:a},beforeSend:function t(){e.addClass("tutor-updating-message-v2")},success:function t(e){if(e.success){o.remove();return}tutor_toast("Error!",(e.data||{}).message||_("Something Went Wrong","tutor"),"error")},complete:function t(){e.removeClass("tutor-updating-message-v2")}})});l(document).on("click",".topic-inner-title, .expand-collapse-wrap",function(t){t.preventDefault();var e=l(this).closest(".tutor-topics-wrap");e.find(".tutor-topics-body").slideToggle();e.find(".expand-collapse-wrap").toggleClass("is-expanded").find("i").toggleClass("tutor-icon-angle-down-filled tutor-icon-angle-up-filled")})})},3008:()=>{window.jQuery(document).ready(function(r){var n=wp.i18n.__;r(document).on("click",".video_source_wrap_html5 .tutor-attachment-cards .tutor-delete-attachment",function(){r(this).closest(".video_source_wrap_html5").removeClass("tutor-has-video").find("input.input_source_video_id").val("")});r(document).on("click",".video_source_wrap_html5 .video_upload_btn",function(t){t.preventDefault();var e=r(this).closest(".video_source_wrap_html5");var o=e.find(".tutor-attachment-cards");var a;if(a){a.open();return}a=wp.media({title:n("Select or Upload Media Of Your Choice","tutor"),button:{text:n("Upload media","tutor")},library:{type:"video"},multiple:false});a.on("select",function(){var t=a.state().get("selection").first().toJSON();o.find(".filename").text(t.name).attr("href",t.url);o.find(".filesize").text(t.filesizeHumanReadable);e.find("input.input_source_video_id").val(t.id).data("video_url",t.url).trigger("paste");e.addClass("tutor-has-video")});a.open()})})}};var r={};function f(t){var e=r[t];if(e!==undefined){return e.exports}var o=r[t]={exports:{}};a[t](o,o.exports,f);return o.exports}var t={};(()=>{"use strict";var t=f(2674);var e=f(4417);var o=f(7464);var a=f(4498);var s=function t(e,o){var a=wp.i18n.__;var r=e||{},n=r.data,i=n===void 0?{}:n;var s=i.message,u=s===void 0?o||a("Something Went Wrong!","tutor"):s;return u};function m(t){"@babel/helpers - typeof";return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}(function(i){window.enable_sorting_topic_lesson=function(){var n=wp.i18n.__;if(jQuery().sortable){i(".course-contents").sortable({handle:".course-move-handle",start:function t(e,o){o.placeholder.css("visibility","visible")},stop:function t(e,o){console.log("e1",e,o);tutor_sorting_topics_and_lesson()}});i(".tutor-lessons:not(.drop-lessons)").sortable({connectWith:".tutor-lessons",items:"div.course-content-item",start:function t(e,o){o.placeholder.css("visibility","visible")},stop:function t(e,o){tutor_sorting_topics_and_lesson();var a=o.item.closest("[data-topic-id]").attr("data-topic-id");var r=o.item.attr("data-course_content_id");i.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{parent_topic_id:a,content_id:r,action:"tutor_update_course_content_parent"},success:function t(e){if(!e.success){tutor_toast(n("Error","tutor"),s(e),"error")}},error:function t(){}})}})}};window.tutor_sorting_topics_and_lesson=function(){var n={};i(".tutor-topics-wrap").each(function(t,e){var o=i(this);var a=parseInt(o.attr("id").match(/\d+/)[0],10);var r={};o.find(".course-content-item").each(function(t,e){var o=i(this);var a=parseInt(o.attr("id").match(/\d+/)[0],10);r[t]=a});n[t]={topic_id:a,lesson_ids:r}});i("#tutor_topics_lessons_sorting").val(JSON.stringify(n))}})(window.jQuery);window.jQuery(document).ready(function(f){var i=wp.i18n.__;enable_sorting_topic_lesson();f(document).on("click",".open-tutor-lesson-modal",function(t){t.preventDefault();var e=f(this);var a=e.attr("data-lesson-id");var r=e.attr("data-topic-id");var o=f("#post_ID").val();f.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{lesson_id:a,topic_id:r,course_id:o,action:"tutor_load_edit_lesson_modal"},beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){f(".tutor-lesson-modal-wrap .modal-container").html(e.data.output);f(".tutor-lesson-modal-wrap").attr({"data-lesson-id":a,"data-topic-id":r});f(".tutor-lesson-modal-wrap").addClass("tutor-is-active");var o=tinyMCEPreInit.mceInit.tutor_lesson_editor_config;if(!o){o=tinyMCEPreInit.mceInit.course_description}tinymce.init(o);tinymce.execCommand("mceRemoveEditor",false,"tutor_lesson_modal_editor");tinyMCE.execCommand("mceAddEditor",false,"tutor_lesson_modal_editor");window.dispatchEvent(new Event(_tutorobject.content_change_event))},complete:function t(){console.log("ajax completed");e.removeClass("tutor-updating-message");quicktags({id:"tutor_lesson_modal_editor"})}})});f(document).on("change",".tutor_lesson_video_source",function(t){var e=f(this).val();f(this).nextAll().hide().filter(".video_source_wrap_"+e).show();f(this).prevAll().filter("[data-video_source]").attr("data-video_source",e)});f(document).on("click",".update_lesson_modal_btn",function(t){t.preventDefault();var o=f(this);var e;var a="tutor_lesson_modal_editor";var r=tinyMCE.get(a);if(r){e=r.getContent()}else{e=f("#"+a).val()}var n=f(this).closest(".tutor-modal").find("form").serializeObject();n.lesson_content=e;f.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:n,beforeSend:function t(){o.addClass("tutor-updating-message")},success:function t(e){if(e.success){f("#tutor-course-content-wrap").html(e.data.course_contents);enable_sorting_topic_lesson();o.closest(".tutor-modal").removeClass("tutor-is-active");tutor_toast(i("Success","tutor"),i("Lesson Updated","tutor"),"success")}},complete:function t(){o.removeClass("tutor-updating-message")}})});var t=[".video_source_wrap_external_url input",".video_source_wrap_vimeo input",".video_source_wrap_youtube input",".video_source_wrap_html5 input.input_source_video_id"].join(",");var o;f(document).on("blur",t,function(){var t=f(this).val();var e=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(t&&e.test(t)==false){f(this).val("");tutor_toast("Error!",i("Invalid Video URL","tutor"),"error")}}).on("paste",t,function(t){t.stopImmediatePropagation();var u=f(this).closest(".tutor-lesson-modal-wrap").find(".tutor-option-field-video-duration");var o=u.find("label");var e=f(this).hasClass("input_source_video_id");var a=f(this).data("autofill_url");f(this).data("autofill_url",null);var r=e?f(this).data("video_url"):a||t.originalEvent.clipboardData.getData("text");var n=function t(e){if(!e){o.find("img").remove();return}if(o.find("img").length==0){o.append(' <img src="'+window._tutorobject.loading_icon_url+'" style="display:inline-block"/>')}};var i=function t(e){var o=Math.floor(e/3600);var a=Math.floor((e-o*3600)/60);var r=Math.round(e-o*3600-a*60);if(o<10){o="0"+o}if(a<10){a="0"+a}if(r<10){r="0"+r}var n=[o,a,r];var i=u.find("input");for(var s=0;s<3;s++){i.eq(s).val(n[s])}};var s=function t(e){var o=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/);o=o.slice(1).map(function(t){if(t!=null){return t.replace(/\D/,"")}});var a=parseInt(o[0])||0;var r=parseInt(o[1])||0;var n=parseInt(o[2])||0;return a*3600+r*60+n};if(e||f(this).parent().hasClass("video_source_wrap_external_url")){var c=document.createElement("video");c.addEventListener("loadedmetadata",function(){i(c.duration);n(false)});n(true);c.src=r}else if(f(this).parent().hasClass("video_source_wrap_vimeo")){var d=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/;var l=r.match(d);var _=l?l[5]:null;if(_){n(true);f.getJSON("http://vimeo.com/api/v2/video/"+_+"/json",function(t){if(Array.isArray(t)&&t[0]&&t[0].duration!==undefined){i(t[0].duration)}n(false)})}}else if(f(this).parent().hasClass("video_source_wrap_youtube")){var d=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/;var l=r.match(d);var _=l&&l[7].length==11?l[7]:false;var p=f(this).data("youtube_api_key");if(_&&p){var v="https://www.googleapis.com/youtube/v3/videos?id="+_+"&key="+p+"&part=contentDetails";n(true);f.getJSON(v,function(t){if(m(t)=="object"&&t.items&&t.items[0]&&t.items[0].contentDetails&&t.items[0].contentDetails.duration){i(s(t.items[0].contentDetails.duration))}n(false)})}}}).on("input",t,function(){if(o){clearTimeout(o)}var e=f(this);o=setTimeout(function(){var t=e.val();t=t?t.trim():"";console.log("Trigger",t);t?e.data("autofill_url",t).trigger("paste"):0},700)})});function r(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,a)}return o}function g(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?r(Object(o),!0).forEach(function(t){n(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function n(t,e,o){if(e in t){Object.defineProperty(t,e,{value:o,enumerable:true,configurable:true,writable:true})}else{t[e]=o}return t}window.jQuery(document).ready(function(p){var v=wp.i18n.__;var f=function t(e,o,a){var r=e.find(".tutor-modal-steps");var n=r.find('li[data-tab="'+e.attr("data-target")+'"]');var i=n.next();var s=n.prev();if(!o){var u=s.data("tab");s.length?e.attr("data-target",u):0;a?r.find('li[data-tab="'+u+'"]').nextAll().removeClass("tutor-is-completed"):0;return}if(i.length){i.addClass("tutor-is-completed");e.attr("data-target",i.data("tab"));return true}tutor_toast(v("Success","tutor"),v("Quiz Updated"),"success");e.removeClass("tutor-is-active");return null};var m=function t(){p(".tutor-field-slider").each(function(){var t=p(this);var a=t.closest(".tutor-field-type-slider").find('input[type="hidden"]');var r=t.closest(".tutor-field-type-slider").find(".tutor-field-type-slider-value");var e=parseFloat(t.closest(".tutor-field-type-slider").attr("data-min"));var o=parseFloat(t.closest(".tutor-field-type-slider").attr("data-max"));t.slider({range:"max",min:e,max:o,value:a.val(),slide:function t(e,o){r.text(o.value);a.val(o.value)}})})};function a(){var r={};p(".quiz-builder-question-wrap").each(function(t,e){var o=p(this);var a=parseInt(o.attr("data-question-id"),10);r[t]=a});p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{sorted_question_ids:r,action:"tutor_quiz_question_sorting"}})}function h(){if(jQuery().sortable){p(".quiz-builder-questions-wrap").sortable({handle:".question-sorting",start:function t(e,o){o.placeholder.css("visibility","visible")},stop:function t(e,o){a()}})}}function u(){if(jQuery().sortable){p("#tutor_quiz_question_answers").sortable({handle:".tutor-quiz-answer-sort-icon",start:function t(e,o){o.placeholder.css("visibility","visible")},stop:function t(e,o){r()}})}}function r(){var r={};p(".tutor-quiz-answer-wrap").each(function(t,e){var o=p(this);var a=parseInt(o.attr("data-answer-id"),10);r[t]=a});p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{sorted_answer_ids:r,action:"tutor_quiz_answer_sorting"}})}function t(){var t={init:function t(){p(document).on("click",".question-type-select .tutor-select-option",function(t){t.preventDefault();var e=p(this);if(e.attr("data-is-pro")!=="true"){var o=e.html().trim();e.closest(".question-type-select").find(".select-header .lead-option").html(o);e.closest(".question-type-select").find(".select-header input.tutor_select_value_holder").val(e.attr("data-value")).trigger("change");e.closest(".tutor-select-options").hide()}else{alert("Tutor Pro version required")}});p(document).on("click",".question-type-select .select-header",function(t){t.preventDefault();var e=p(this);e.closest(".question-type-select").find(".tutor-select-options").slideToggle()});this.setValue();this.hideOnOutSideClick()},setValue:function t(){p(".question-type-select").each(function(){var t=p(this);var e=t.find(".tutor-select-option");if(e.length){e.each(function(){var t=p(this);if(t.attr("data-selected")==="selected"){var e=t.html().trim();t.closest(".question-type-select").find(".select-header .lead-option").html(e);t.closest(".question-type-select").find(".select-header input.tutor_select_value_holder").val(t.attr("data-value"))}})}})},hideOnOutSideClick:function t(){p(document).mouseup(function(t){var e=p(".tutor-select-options");if(!p(t.target).closest(".select-header").length&&!e.is(t.target)&&e.has(t.target).length===0){e.hide()}})},reInit:function t(){this.setValue()}};return t}t().init();m();p(document).on("click",".tutor-add-quiz-btn, .open-tutor-quiz-modal, .back-to-quiz-questions-btn",function(t){t.preventDefault();var e=p(this);var o=p(this).hasClass("open-tutor-quiz-modal")||p(this).hasClass("tutor-add-quiz-btn");var a=p(".tutor-modal.tutor-quiz-builder-modal-wrap");var r=e.hasClass("tutor-add-quiz-btn")?0:e.attr("data-quiz-id");var n=e.closest(".tutor-topics-wrap").data("topic-id");var i=p("#post_ID").val();p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{quiz_id:r,topic_id:n,course_id:i,action:"tutor_load_quiz_builder_modal"},beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){if(!e.success){tutor_toast("Error",s(e),"error");return}p(".tutor-quiz-builder-modal-wrap").addClass("tutor-is-active");p(".tutor-quiz-builder-modal-wrap .modal-container").html(e.data.output);p(".tutor-quiz-builder-modal-wrap").attr("data-quiz-id",r).attr("data-topic-id-of-quiz",n);a.removeClass("tutor-has-question-from");if(o){f(a,false,true);f(a,false,true)}window.dispatchEvent(new Event(_tutorobject.content_change_event));m();h()},complete:function t(){e.removeClass("tutor-updating-message")}})});p(document).on("click",".tutor-quiz-builder-modal-wrap button",function(t){var e=p(this);var o=e.closest(".tutor-modal");var a=o.attr("data-target");var r=p(this).data("action");if(r=="back"){f(o,false);return}else if(r!="next"){return}var n=p("#post_ID").val();var i=p(this).closest(".tutor-quiz-builder-modal-wrap").attr("data-topic-id-of-quiz");var s=o.find('[name="quiz_id"]').val();if(a=="quiz-builder-tab-quiz-info"||a=="quiz-builder-tab-settings"){var u=o.find('[name="quiz_title"]').val();var c=o.find('[name="quiz_description"]').val();var d=o.find("#quiz-builder-tab-settings :input, #quiz-builder-tab-advanced-options :input").serializeObject();var l={quiz_title:u,course_id:n,quiz_id:s,topic_id:i};for(var _ in l){if(!l[_]){console.log(l);if(_=="quiz_title"){tutor_toast("Error!",v("Quiz title required","tutor"),"error")}return}}p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:g(g(g({},d),l),{},{quiz_description:c,action:"tutor_quiz_save"}),beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){console.log(s,s!=0);if(s&&s!=0){p("#tutor-quiz-"+s).replaceWith(e.data.output_quiz_row);console.log(p("#tutor-quiz-"+s))}else{p("#tutor-topics-"+i+" .tutor-lessons").append(e.data.output_quiz_row);console.log(p("#tutor-topics-"+i+" .tutor-lessons"))}p(".tutor-quiz-builder-modal-wrap .modal-container").html(e.data.output);window.dispatchEvent(new Event(_tutorobject.content_change_event));m();f(o,true);h();p('[name="quiz_option[feedback_mode]"]').trigger("change")},complete:function t(){e.removeClass("tutor-updating-message")}})}else if(a=="quiz-builder-tab-questions"){f(o,true)}});p(document).on("click",".tutor-quiz-open-question-form",function(t){t.preventDefault();var e=p(this);var o=e.closest(".tutor-modal");var a=o.find('[name="quiz_id"]').val();var r=o.find('[name="topic_id"]').val();var n=p("#post_ID").val();var i=e.attr("data-question-id");var s={quiz_id:a,topic_id:r,course_id:n,question_id:i,action:"tutor_quiz_builder_get_question_form"};p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:s,beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){o.find(".modal-container").html(e.data.output);o.addClass("tutor-has-question-from");u()},complete:function t(){e.removeClass("tutor-updating-message")}})});p(document).on("click",".tutor-quiz-question-trash",function(t){t.preventDefault();var e=p(this);var o=e.attr("data-question-id");p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{question_id:o,action:"tutor_quiz_builder_question_delete"},beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(){e.closest(".quiz-builder-question-wrap").fadeOut(function(){p(this).remove()})},complete:function t(){e.removeClass("tutor-updating-message")}})});p(document).on("click",".add_question_answers_option, .tutor-quiz-answer-edit a",function(t){t.preventDefault();var e=p(this);var o=e.closest("[data-question-id]").attr("data-question-id");var a=p(this).hasClass("add_question_answers_option")?null:e.closest(".tutor-quiz-answer-wrap").attr("data-answer-id");var r=p("#tutor-quiz-question-wrapper :input").serializeObject();r.question_id=o;r.answer_id=a;r.action="tutor_quiz_question_answer_editor";p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:r,beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){p("#tutor_quiz_builder_answer_wrapper").html(e.data.output)},complete:function t(){e.removeClass("tutor-updating-message")}})});p(document).on("click",".quiz-modal-question-save-btn",function(t){t.preventDefault();var e=p(this);var o=e.closest(".tutor-modal");var a=p("#tutor-quiz-question-wrapper :input").serializeObject();a.action="tutor_quiz_modal_update_question";p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:a,beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){if(e.success){o.find(".back-to-quiz-questions-btn").trigger("click")}else{tutor_toast("Error",s(e),"error")}},complete:function t(){setTimeout(function(){return e.removeClass("tutor-updating-message")},2e3)}})});p(document).on("change","input.tutor_select_value_holder",function(t){var o=p("#tutor_quiz_builder_answer_wrapper");o.html('<div style="text-align:center">\n                <span class="tutor-updating-message"></span>\n            </div>');o.get(0).scrollIntoView({block:"center",behavior:"smooth"});var e=p(this).closest("[data-question-id]").attr("data-question-id");var a=p(this).val();p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{question_id:e,question_type:a,action:"tutor_quiz_builder_change_type"},success:function t(e){if(e.success){p("#tutor_quiz_builder_answer_wrapper").html(e.data.output);o.get(0).scrollIntoView({block:"center",behavior:"smooth"})}else{tutor_toast("Error",s(e),"error")}}})});p(document).on("click","#quiz-answer-save-btn",function(t){t.preventDefault();var e=p(this);var o=p("#tutor-quiz-question-wrapper :input").serializeObject();o.action=o.tutor_quiz_answer_id?"tutor_update_quiz_answer_options":"tutor_save_quiz_answer_options";p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:o,beforeSend:function t(){e.addClass("tutor-updating-message")},success:function t(e){if(!e.success){tutor_toast("Error",s(e),"error");return}p(".tutor_select_value_holder").trigger("change")},complete:function t(){e.removeClass("tutor-updating-message")}})});p(document).on("change",".tutor-quiz-answers-mark-correct-wrap input",function(t){t.preventDefault();var e=p(this);var o=e.val();var a=1;if(!e.prop("checked")){a=0}p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:o,inputValue:a,action:"tutor_mark_answer_as_correct"}})});p(document).on("click",".tutor-quiz-answer-trash-wrap a.answer-trash-btn",function(t){t.preventDefault();var e=p(this);var o=e.attr("data-answer-id");p.ajax({url:window._tutorobject.ajaxurl,type:"POST",data:{answer_id:o,action:"tutor_quiz_builder_delete_answer"},beforeSend:function t(){e.closest(".tutor-quiz-answer-wrap").remove()}})});p(document).on("click",".tutor-quiz-advance-settings .tutor-quiz-advance-header",function(){p(this).parent().toggleClass("tutor-is-active").find(".tutor-icon-angle-down-filled").toggleClass("tutor-icon-angle-up-filled")});p(document).on("change",'[name="quiz_option[feedback_mode]"]',function(){if(p(this).prop("checked")){p(this).parent().addClass("tutor-bg-white").removeClass("tutor-bg-transparent").siblings().filter(".tutor-radio-select").addClass("tutor-bg-transparent").removeClass("tutor-bg-white")}})});var i=f(8005);var u=f(3008);window.jQuery(document).ready(function(t){t(".tutor-certificate-template-tab [data-tutor-tab-target]").click(function(){t(this).addClass("is-active").siblings().removeClass("is-active");t("#"+t(this).data("tutor-tab-target")).show().siblings().hide()})});var c=function t(){if(jQuery().select2){jQuery(".select2_multiselect").select2({dropdownCssClass:"increasezindex"})}};window.addEventListener("DOMContentLoaded",c);window.addEventListener(_tutorobject.content_change_event,c);window.addEventListener(_tutorobject.content_change_event,function(){return console.log(_tutorobject.content_change_event)});function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:255;var e=arguments.length>1?arguments[1]:undefined;return t-(((e||{}).value||{}).length||0)}var l=255;var _=document.getElementById("tutor-course-create-title");var p=_===null||_===void 0?void 0:_.previousElementSibling;var v=document.querySelector("#tutor-course-create-title-tooltip-wrapper .tooltip-txt");if(p){p.innerHTML=d(l,_)}if(_&&v){document.addEventListener("click",function(t){if(t.target===_){if(_===document.activeElement){v.style.opacity="1";v.style.visibility="visible"}}else{v.style.opacity="0";v.style.visibility="hidden"}});_.addEventListener("keyup",function(t){var e=d(l,_);p.innerHTML=e})}})()})();